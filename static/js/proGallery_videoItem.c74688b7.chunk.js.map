{"version":3,"sources":["../node_modules/pro-gallery/dist/esm/components/item/videos/getStyle.js","../node_modules/pro-gallery/dist/esm/components/item/videos/videoItem.js"],"names":["module","exports","isCrop","isWiderThenContainer","CALC","height","width","position","margin","minHeight","minWidth","left","right","top","bottom","__webpack_require__","r","__webpack_exports__","tslib__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","n","pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__","pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__","pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__","_galleryComponent__WEBPACK_IMPORTED_MODULE_5__","_itemHelper__WEBPACK_IMPORTED_MODULE_6__","_getStyle__WEBPACK_IMPORTED_MODULE_7__","_getStyle__WEBPACK_IMPORTED_MODULE_7___default","VideoItem","_super","props","_this","call","this","pause","bind","play","playVideoIfNeeded","state","playedOnce","loadVideo","playing","reactPlayerLoaded","vimeoPlayerLoaded","hlsPlayerLoaded","Object","prototype","componentDidMount","dynamiclyImportVideoPlayers","ReactPlayer","e","then","t","default","setState","Vimeo","videoUrl","includes","Player","Hls","isHLSVideo","shouldUseHlsPlayer","isiOS","shouldForceVideoForHLS","UNSAFE_componentWillReceiveProps","nextProps","firstUserInteractionExecuted","componentDidUpdate","prevProps","currentIdx","fixIFrameTabIndexIfNeeded","type","playVideo","idx","pauseVideo","playingVideoIdx","isPlaying","videoElement","document","querySelector","id","isVerbose","console","log","error","createPlayerElement","PlayerElement","style","ratio","cubeRatio","styleParams","cubeImages","cubeType","url","createUrl","urlSizes","RESIZED","urlTypes","VIDEO","attributes","controlsList","disablepictureinpicture","muted","videoSound","preload","poster","SCALED","HIGH_RES","a","createElement","className","alt","loop","videoLoop","ref","player","video","volume","onEnded","actions","eventsListener","events","VIDEO_ENDED","onPause","onError","VIDEO_ERROR","videoError","playbackRate","Number","videoSpeed","onStart","onPlay","VIDEO_PLAYED","onReady","setItemLoaded","ready","controls","showVideoControls","config","file","forceHLS","forceVideo","key","isExternalVideo","videoGalleryItem","getElementById","videoIFrames","getElementsByTagName","videoIFrame","setAttribute","getVideoContainerStyles","videoContainerStyle","imageDimensions","deviceHasMemoryIssues","backgroundColor","backgroundImage","render","_a","videoPlaceholder","hover","baseClassName","isiPhone","data-hook","videoPlayButton"],"mappings":"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","file":"static/js/proGallery_videoItem.c74688b7.chunk.js","sourcesContent":["\"use strict\";\n\nmodule.exports = getStyle;\n\nfunction getStyle(isCrop, isWiderThenContainer) {\n  var CALC = 'calc(100% + 1px)';\n  return isCrop ? getCrop() : getNonCrop();\n\n  function getCrop() {\n    return {\n      height: isWiderThenContainer ? CALC : 'auto',\n      width: isWiderThenContainer ? 'auto' : CALC,\n      position: 'absolute',\n      margin: 'auto',\n      minHeight: '100%',\n      minWidth: '100%',\n      left: '-100%',\n      right: '-100%',\n      top: '-100%',\n      bottom: '-100%'\n    };\n  }\n\n  function getNonCrop() {\n    return {\n      width: isWiderThenContainer ? CALC : 'auto',\n      height: isWiderThenContainer ? '100%' : CALC\n    };\n  }\n}","import { __assign, __extends } from \"tslib\";\nimport React from 'react';\nimport { GALLERY_CONSTS, window, utils } from 'pro-gallery-lib';\nimport { GalleryComponent } from '../../galleryComponent';\nimport { shouldCreateVideoPlaceholder } from '../itemHelper';\nimport getStyle from './getStyle';\n\nvar VideoItem =\n/** @class */\nfunction (_super) {\n  __extends(VideoItem, _super);\n\n  function VideoItem(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.pause = _this.pause.bind(_this);\n    _this.play = _this.play.bind(_this);\n    _this.playVideoIfNeeded = _this.playVideoIfNeeded.bind(_this);\n    _this.state = {\n      playedOnce: false,\n      loadVideo: props.loadVideo || props.playing,\n      playing: false,\n      reactPlayerLoaded: false,\n      vimeoPlayerLoaded: false,\n      hlsPlayerLoaded: false\n    };\n    return _this;\n  }\n\n  VideoItem.prototype.componentDidMount = function () {\n    this.dynamiclyImportVideoPlayers();\n  };\n\n  VideoItem.prototype.dynamiclyImportVideoPlayers = function () {\n    var _this = this;\n\n    if (!(window && window.ReactPlayer)) {\n      import(\n      /* webpackChunkName: \"proGallery_reactPlayer\" */\n      'react-player').then(function (ReactPlayer) {\n        window.ReactPlayer = ReactPlayer.default;\n\n        _this.setState({\n          reactPlayerLoaded: true\n        });\n\n        _this.playVideoIfNeeded();\n      });\n    }\n\n    if ( //Vimeo player must be loaded by us, problem with requireJS\n    !(window && window.Vimeo) && this.props.videoUrl && this.props.videoUrl.includes('vimeo.com')) {\n      import(\n      /* webpackChunkName: \"proGallery_vimeoPlayer\" */\n      '@vimeo/player').then(function (Player) {\n        window.Vimeo = {\n          Player: Player.default\n        };\n\n        _this.setState({\n          vimeoPlayerLoaded: true\n        });\n\n        _this.playVideoIfNeeded();\n      });\n    }\n\n    if ( //Hls player must be loaded by us, problem with requireJS\n    !(window && window.Hls) && this.isHLSVideo()) {\n      import(\n      /* webpackChunkName: \"proGallery_HlsPlayer\" */\n      'hls.js').then(function (Player) {\n        window.Hls = Player.default;\n\n        _this.setState({\n          hlsPlayerLoaded: true\n        });\n\n        _this.playVideoIfNeeded();\n      });\n    }\n  };\n\n  VideoItem.prototype.isHLSVideo = function () {\n    return this.props.videoUrl && (this.props.videoUrl.includes('/hls') || this.props.videoUrl.includes('.m3u8'));\n  };\n\n  VideoItem.prototype.shouldUseHlsPlayer = function () {\n    return this.isHLSVideo() && !utils.isiOS();\n  };\n\n  VideoItem.prototype.shouldForceVideoForHLS = function () {\n    return this.isHLSVideo() && utils.isiOS();\n  };\n\n  VideoItem.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (nextProps.playing || nextProps.firstUserInteractionExecuted) {\n      this.setState({\n        loadVideo: true\n      });\n    }\n\n    this.playVideoIfNeeded(nextProps);\n  };\n\n  VideoItem.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.currentIdx !== this.props.currentIdx) {\n      this.fixIFrameTabIndexIfNeeded();\n    }\n\n    if (prevProps.type === 'image' && this.props.type === 'video') {\n      this.dynamiclyImportVideoPlayers();\n    }\n\n    this.playVideoIfNeeded();\n  };\n\n  VideoItem.prototype.play = function () {\n    this.props.playVideo(this.props.idx);\n  };\n\n  VideoItem.prototype.pause = function () {\n    this.props.pauseVideo();\n  };\n\n  VideoItem.prototype.playVideoIfNeeded = function (props) {\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    try {\n      var playingVideoIdx = props.playingVideoIdx;\n\n      if (playingVideoIdx === this.props.idx && !this.isPlaying) {\n        this.videoElement = this.videoElement || window.document.querySelector(\"#video-\" + this.props.id + \" video\");\n\n        if (this.videoElement) {\n          this.isPlaying = true;\n          this.videoElement.play();\n          utils.isVerbose() && console.log('[VIDEO] Playing video #' + this.props.idx, this.videoElement);\n        }\n      }\n    } catch (e) {\n      console.error('[VIDEO] Could not play video #' + this.props.idx, this.videoElement, e);\n    }\n  }; //-----------------------------------------| UTILS |--------------------------------------------//\n\n\n  VideoItem.prototype.createPlayerElement = function () {\n    var _this = this; //video dimensions are for videos in grid fill - placing the video with negative margins to crop into a square\n\n\n    if (!(window && window.ReactPlayer && (this.state.loadVideo || this.props.playing))) {\n      return null;\n    }\n\n    var PlayerElement = window.ReactPlayer;\n    var isWiderThenContainer = this.props.style.ratio >= this.props.cubeRatio; // adding 1 pixel to compensate for the difference we have sometimes from layouter in grid fill\n\n    var isCrop = this.props.styleParams.cubeImages && this.props.styleParams.cubeType === 'fill';\n    var url = this.props.videoUrl ? this.props.videoUrl : this.props.createUrl(GALLERY_CONSTS.urlSizes.RESIZED, GALLERY_CONSTS.urlTypes.VIDEO);\n    var attributes = {\n      controlsList: 'nodownload',\n      disablepictureinpicture: 'true',\n      muted: !this.props.styleParams.videoSound,\n      preload: 'metadata',\n      style: getStyle(isCrop, isWiderThenContainer),\n      type: 'video/mp4'\n    };\n\n    if (shouldCreateVideoPlaceholder(this.props.styleParams)) {\n      attributes.poster = this.props.createUrl(GALLERY_CONSTS.urlSizes.SCALED, GALLERY_CONSTS.urlTypes.HIGH_RES);\n    }\n\n    return React.createElement(PlayerElement, {\n      className: 'gallery-item-visible video gallery-item',\n      id: \"video-\" + this.props.id,\n      width: \"100%\",\n      height: \"100%\",\n      url: url,\n      alt: this.props.alt ? this.props.alt : 'untitled video',\n      loop: !!this.props.styleParams.videoLoop,\n      ref: function ref(player) {\n        return _this.video = player;\n      },\n      volume: this.props.styleParams.videoSound ? 0.8 : 0,\n      playing: this.props.playing,\n      onEnded: function onEnded() {\n        _this.setState({\n          playing: false\n        });\n\n        _this.props.actions.eventsListener(GALLERY_CONSTS.events.VIDEO_ENDED, _this.props);\n      },\n      onPause: function onPause() {\n        _this.setState({\n          playing: false\n        });\n      },\n      onError: function onError(e) {\n        _this.props.actions.eventsListener(GALLERY_CONSTS.events.VIDEO_ERROR, __assign(__assign({}, _this.props), {\n          videoError: e\n        }));\n      },\n      playbackRate: Number(this.props.styleParams.videoSpeed) || 1,\n      onStart: function onStart() {\n        if (!_this.state.playedOnce) {\n          _this.setState({\n            playedOnce: true\n          });\n        }\n      },\n      onPlay: function onPlay() {\n        _this.props.actions.eventsListener(GALLERY_CONSTS.events.VIDEO_PLAYED, _this.props);\n\n        _this.setState({\n          playing: true\n        });\n      },\n      onReady: function onReady() {\n        _this.playVideoIfNeeded();\n\n        _this.fixIFrameTabIndexIfNeeded();\n\n        _this.props.actions.setItemLoaded();\n\n        _this.setState({\n          ready: true\n        });\n      },\n      controls: this.props.styleParams.showVideoControls,\n      config: {\n        file: {\n          attributes: attributes,\n          forceHLS: this.shouldUseHlsPlayer(),\n          forceVideo: this.shouldForceVideoForHLS()\n        }\n      },\n      key: 'video-' + this.props.id\n    });\n  };\n\n  VideoItem.prototype.fixIFrameTabIndexIfNeeded = function () {\n    if (this.props.isExternalVideo) {\n      var videoGalleryItem = window.document && window.document.getElementById(\"video-\" + this.props.id);\n      var videoIFrames = videoGalleryItem && videoGalleryItem.getElementsByTagName('iframe');\n      var videoIFrame = videoIFrames && videoIFrames[0];\n\n      if (videoIFrame) {\n        if (this.props.currentIdx === this.props.idx) {\n          videoIFrame.setAttribute('tabIndex', '0');\n        } else {\n          videoIFrame.setAttribute('tabIndex', '-1');\n        }\n      }\n    }\n  };\n\n  VideoItem.prototype.getVideoContainerStyles = function () {\n    var videoContainerStyle = __assign({}, this.props.imageDimensions);\n\n    if (utils.deviceHasMemoryIssues() || this.state.ready || !shouldCreateVideoPlaceholder(this.props.styleParams)) {\n      videoContainerStyle.backgroundColor = 'black';\n    } else {\n      videoContainerStyle.backgroundImage = \"url(\" + this.props.createUrl(GALLERY_CONSTS.urlSizes.RESIZED, GALLERY_CONSTS.urlTypes.HIGH_RES) + \")\";\n    }\n\n    return videoContainerStyle;\n  }; //-----------------------------------------| RENDER |--------------------------------------------//\n\n\n  VideoItem.prototype.render = function () {\n    var _a = this.props,\n        videoPlaceholder = _a.videoPlaceholder,\n        hover = _a.hover;\n    var baseClassName = 'gallery-item-content gallery-item-visible gallery-item-preloaded gallery-item-video gallery-item video-item' + (utils.isiPhone() ? ' ios' : '');\n\n    if (this.state.playing) {\n      baseClassName += ' playing';\n    }\n\n    if (this.state.playedOnce && this.state.ready) {\n      baseClassName += ' playedOnce';\n    } // eslint-disable-next-line no-unused-vars\n\n\n    var video = React.createElement(\"div\", {\n      className: baseClassName,\n      \"data-hook\": \"video_container-video-player-element\",\n      key: 'video_container-' + this.props.id,\n      style: this.getVideoContainerStyles()\n    }, this.createPlayerElement(), this.props.videoPlayButton);\n    return React.createElement(\"div\", {\n      key: 'video-and-hover-container' + this.props.idx\n    }, video, shouldCreateVideoPlaceholder(this.props.styleParams) && videoPlaceholder, hover);\n  };\n\n  return VideoItem;\n}(GalleryComponent);\n\nexport default VideoItem;"],"sourceRoot":""}